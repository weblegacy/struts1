<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/xdoc/userGuide/installation-ipas.xml at 2022-07-19

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Struts 1 &#x2013; The Struts Framework Project - Installation - iPortal
            Application Server</title>
    <link rel="stylesheet" href="../css/maven-base.css" />
    <link rel="stylesheet" href="../css/maven-theme.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<a href="https://www.apache.org/" id="bannerLeft"><img src="../images/asf-logo.png"  alt="Apache Software Foundation"/></a><a href="https://struts.apache.org/index.html" id="bannerRight"><img src="../images/struts.png"  alt="Apache Struts"/></a>      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2022-07-19</span>
           | <span id="projectVersion">Version: 1.3.11</span>
      </div>
      <div class="xright"><a href="https://www.apache.org/" class="externalLink" title="Apache">Apache</a> |
<a href="https://struts.apache.org/index.html" class="externalLink" title="Struts">Struts</a>      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Struts 1</h5>
    <ul>
     <li class="none"><a href="../index.html" title="Welcome">Welcome</a></li>
     <li class="none"><a href="../learning.html" title="Learning">Learning</a></li>
     <li class="none"><a href="../roadmap.html" title="Roadmap">Roadmap</a></li>
     <li class="none"><a href="https://struts.apache.org/releases.html" class="externalLink" title="Releases">Releases</a></li>
     <li class="none"><a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks!">Thanks!</a></li>
     <li class="none"><a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship">Sponsorship</a></li>
    </ul>
       <h5>Documentation</h5>
    <ul>
     <li class="none"><a href="../userGuide/index.html" title="User Guide">User Guide</a></li>
     <li class="none"><a href="../faqs/index.html" title="FAQs and HOWTOs">FAQs and HOWTOs</a></li>
     <li class="none"><a href="../userGuide/release-notes.html" title="Release Notes">Release Notes</a></li>
     <li class="none"><a href="../apidocs/index.html" title="Javadoc">Javadoc</a></li>
     <li class="none"><a href="../dtddoc/index.html" title="DTDDoc">DTDDoc</a></li>
    </ul>
       <h5>Support</h5>
    <ul>
     <li class="none"><a href="https://struts.apache.org/mail.html" class="externalLink" title="User Mailing List">User Mailing List</a></li>
     <li class="none"><a href="https://issues.apache.org/jira/browse/WW" class="externalLink" title="Issue Tracker (JIRA)">Issue Tracker (JIRA)</a></li>
     <li class="none"><a href="https://cwiki.apache.org/confluence/display/WW/Home" class="externalLink" title="Wiki Pages">Wiki Pages</a></li>
    </ul>
       <h5>Components</h5>
    <ul>
     <li class="none"><a href="../struts-apps/index.html" title="Struts Apps">Struts Apps</a></li>
     <li class="none"><a href="../struts-core/index.html" title="Struts Core">Struts Core</a></li>
     <li class="none"><a href="../struts-el/index.html" title="Struts EL">Struts EL</a></li>
     <li class="none"><a href="../struts-extras/index.html" title="Struts Extras">Struts Extras</a></li>
     <li class="none"><a href="../struts-faces/index.html" title="Struts Faces">Struts Faces</a></li>
     <li class="none"><a href="../struts-mailreader-dao/index.html" title="Struts Mailreader DAO">Struts Mailreader DAO</a></li>
     <li class="none"><a href="../struts-scripting/index.html" title="Struts Scripting">Struts Scripting</a></li>
     <li class="none"><a href="../struts-taglib/index.html" title="Struts Taglib">Struts Taglib</a></li>
     <li class="none"><a href="../struts-tiles/index.html" title="Struts Tiles">Struts Tiles</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="../project-info.html" title="Project Information">Project Information</a></li>
     <li class="collapsed"><a href="../project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">

    
        <a name="installation"></a><section id="installation">
<h2><a name="a6.2_Installation"></a>6.2 Installation</h2>
            <a name="Containers"></a><section id="Containers">
<h3><a name="Installing_Struts_with_your_servlet_container"></a>Installing Struts with your servlet container</h3>
                <section>
<h4><a name="iPortal_Application_Server_1.3"></a>
                    <a name="ipas13">iPortal Application Server 1.3</a>
                </h4>
                <b>Tested with: Windows 2000</b>
                </section><section>
<h4><a name="Important_Note:"></a>Important Note:</h4>
                
<p>At the moment, iPAS 1.3 is not fully compliant with the JSP
                    1.1/1.2
                    specification.</p>
                
<p>Specifically, the automatic type conversions for custom tag
                    parameters
                    specified in &quot;Issue 7&quot; of the JSP 1.1 Errata and in the
                    JSP 1.2 Proposed
                    Final Draft have not yet been implemented.</p>
                
<p>As it stands, JSP pages that make use of Struts taglibs
                    whose parameters
                    require conversion (such as booleans) will not compile
                    under JRun. This
                    includes the Struts Example Application. Attempting to run
                    the example
                    application will result in an exception similar to the
                    following being
                    thrown:</p>
                
<div>
<pre>
                    /struts-example/index.jsp:

                    Compilation failed [IT_Builder:1000]
                    at
                    com.iona.j2ee.builder.JavaBuilder.build(JavaBuilder.java:84)
                    at
                    com.iona.j2ee.builder.JspBuilder.build(JspBuilder.java:51)
                    at
                    com.iona.j2ee.builder.WarBuilder.build(WarBuilder.java:111)
                    at
                    com.iona.j2ee.builder.EarBuilder.build(EarBuilder.java:99)
                    at
                    com.iona.j2ee.builder.EarBuilder.main(EarBuilder.java:223)
                    at iportal.build.main(build.java:14)
                    ocale(boolean) in org.apache.struts.taglib.html.HtmlTag
                    cannot be applied to (java.lang.String)
                    _x0.setLocale(&quot;true&quot;);
                    ^
                    1 error
                </pre></div>
                
<p>(For more details see refer to:
                    <br />

                    <a class="externalLink" href="http://www.mail-archive.com/struts-user@jakarta.apache.org/msg01860.html">
                        http://www.mail-archive.com/struts-user@jakarta.apache.org/msg01860.html</a>
                    )
                </p>
                
<p>The following instructions describe how to install the
                    Struts Example
                    Application under iPAS 1.3. A subsequent section describes
                    how the Struts
                    Example Application can be patched to work with
                    Struts.</p>
                
<p>The following instructions assume the following:</p>
                
<ul>
                    
<li>iPortal Application Server 1.3 has been
                        installed.</li>
                    
<li>Both the Strut and XML Parser libraries are in your
                        classpath.</li>
                </ul>
                </section><section>
<h4><a name="Installing_the_struts_example_application"></a>Installing the struts example application</h4>
                
<ul>
                    
<li>Start iPAS Services by clicking on the [Start iPAS
                        Services] menu item.</li>
                    
<li>Start the iPortal Application Server by clicking on
                        the [iPortal Application Server] menu item.</li>
                    
<li>Start a command shell. Change to the
                        <code>$INSTALLDIR\IONA</code>
                        and run the
                        setenvs.bat file.
                    </li>
                    
<li>Create a directory called jars.</li>
                </ul>
                
<p>Now run the EARSCO tool. Type
                    <code>java iportal.earsco</code>
                    and at the prompts do:
                </p>
                
<ul>
                    
<li>Next</li>
                    
<li>Type in the application name of
                        <code>struts-example</code>
                        then click next.
                    </li>
                    
<li>In step three click the check box and enter the name
                        of the
                        WAR
                        <code>struts-example</code>
                        .Then click next.
                    </li>
                    
<li>Click on Finish.</li>
                </ul>
                
<p>Now you must copy the contents of the struts-example war
                    into the EARSCO
                    directory structure as follows:</p>
                
<p>Under
                    <code>
                        $INSTALLDIR\IONA\jars\struts-examples\src\struts-example.war</code>
                    you
                    copy contents into the following directories: etc, lib,
                    src and web.
                </p>
                
<ul>
                    
<li>Copy all files in the root directory
                        <br />
                        <code>
                            $INSTALLDIR\jakarta-tomcat-3.2.1\webapps\struts-example\WEB-INF</code>
                        <br />
                        into the earsco directory
                        <br />
                        <code>
                            $INSTALLDIR\IONA\jars\struts-examples\src\struts-example.war\etc</code>
                        <br />
                        Do not copy in the classes or lib directories.
                    </li>
                    
<li>Copy the directory
                        <br />
                        <code>
                            $INSTALLDIR\jakarta-tomcat-3.2.1\webapps\struts-example\WEB-INF\lib</code>
                        <br />
                        into the earsco directory
                        <br />
                        <code>
                            $INSTALLDIR\IONA\jars\struts-examples\src\struts-example.war\lib</code>
                    </li>
                    
<li>Copy the directory
                        <br />
                        <code>
                            $INSTALLDIR\jakarta-tomcat-3.2.1\webapps\struts-example\WEB-INF\classes</code>
                        <br />
                        into the earsco directory
                        <br />
                        <code>
                            $INSTALLDIR\IONA\jars\struts-examples\src\struts-example.war\src</code>
                        <br />
                    </li>
                    
<li>Copy the directory
                        <br />
                        <code>
                            $INSTALLDIR\jakarta-tomcat-3.2.1\webapps\struts-example</code>
                        <br />
                        into the earsco directory
                        <br />
                        <code>
                            $INSTALLDIR\IONA\jars\struts-examples\src\struts-example.war\web</code>
                        <br />
                    </li>
                    
<li>Next modify the application.xml in the
                        <br />
                        <code>$INSTALLDIR\IONA\jars\struts-examples\etc</code>
                        directory to this:
                    </li>
                </ul>
                
<div>
<pre>
                    &lt;application&gt;

                    &lt;!-- Add display name --&gt;
                    &lt;display-name&gt;Struts Example&lt;/display-name&gt;
                    .......
                </pre></div>
                
<ul>
                    
<li>Last update the cc.xml in the
                        <br />
                        <code>$INSTALLDIR\IONA\jars\struts-examples directory
                            as follows:</code>
                    </li>
                </ul>
                
<div>
<pre>
                    &lt;configuration&gt;
                    &lt;web-app&gt;
                    &lt;context-root&gt;struts-example&lt;/context-root&gt;
                    &lt;/web-app&gt;
                    &lt;/configuration&gt;
                </pre></div>
                
<p>Now you are ready to compile and deploy the
                    struts-example.</p>
                
<p>To compile the source from the
                    $INSTALLDIR\IONA\jars\struts-examples type</p>
                
<p>
                    <code>java iportal.build</code>
                </p>
                
<p>Next, type</p>
                
<p>
                    <code>java iportal.deploy</code>
                </p>
                
<p>The first time you deploy you will be prompted by a Deploy
                    wizard and asked to
                    supply both locations of the struts-example.ear file and
                    of the cc.xml file.
                    Once both elements have been satisfied continue until the
                    finish button and
                    click it. The EAR file should deploy successfully.</p>
                
<p>Test the sample application by using the following URL in
                    the browser:</p>
                
<p>
                    <code>http://hostname:9000/struts-example/index.jsp</code>
                </p>
                
<p>The
                    <code>struts-documentation.war</code>
                    can be installed using the same procedure.
                </p>
                </section><section>
<h4><a name="Patching_the_struts_example_application"></a>Patching the struts example application</h4>
                
<p>As mentioned at the beginning of these notes, the Struts
                    Example Application
                    will not run under iPAS 1.3 without modification. The
                    following changes will
                    need to be made:</p>
                
<ul>
                    
<li>index.jsp, logon.jsp: Change &lt;html:html
                        locale=&quot;true&quot;&gt; to
                        <br />
                        &lt;html:html locale=&lt;%= true %&gt;&gt;
                    </li>
                    
<li>registration.jsp, subscription.jsp: Change all
                        instances of filter=&quot;true&quot; to
                        <br />
                        filter=&lt;%= true %&gt;
                    </li>
                </ul>
                <hr />
                
<p>Back to
                    <a href="installation.html#Containers">Installation</a>
                </p>
            </section></section>
        </section>
    

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2000&#x2013;2022<a href="https://github.com/weblegacy">Web-Legacy</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>